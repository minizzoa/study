<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Lunch Machine - Mobile Ready</title>
    <style>
        :root {
            --neon-orange: #ff9f43;
            --neon-mint: #2effc3;
            --dark-bg: #0a0a0a;
            --card-bg: #1a1a1a;
        }

        body {
            background-color: var(--dark-bg);
            color: white;
            font-family: 'Pretendard', -apple-system, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        h2 { 
            color: var(--neon-orange); 
            text-shadow: 0 0 10px var(--neon-orange); 
            margin-bottom: 20px;
            font-size: 1.5rem; /* ëª¨ë°”ì¼ ëŒ€ì‘ í¬ê¸° */
        }

        /* ê²°ê³¼ ë””ìŠ¤í”Œë ˆì´ ì˜ì—­ */
        .slot-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%; /* ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
            max-width: 500px;
            margin-bottom: 30px;
        }

        #slot-display {
            width: 100%; /* ë¶€ëª¨ ë„ˆë¹„ì— ë§ì¶¤ */
            height: 140px;
            background: #111; 
            border: 4px solid var(--neon-orange); 
            border-radius: 20px;
            display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem; /* ê¸€ì í¬ê¸° ìµœì í™” */
            font-weight: 900; color: white;
            box-shadow: 0 0 30px rgba(255, 159, 67, 0.2);
            position: relative; overflow: hidden;
            box-sizing: border-box;
            text-align: center;
            padding: 10px;
        }

        /* ë©”ì¸ ì‹¤í–‰ ë²„íŠ¼ */
        .btn-spin {
            width: 100%;
            padding: 18px;
            border-radius: 15px;
            border: none;
            background: var(--neon-orange);
            color: black;
            font-size: 1.3rem;
            font-weight: 900;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 0 15px rgba(255, 159, 67, 0.4);
        }
        .btn-spin:active { transform: scale(0.95); }

        /* ì…ë ¥ ë° ì„¤ì • ì˜ì—­ */
        .controls {
            background: var(--card-bg); 
            padding: 15px; 
            border-radius: 15px;
            border: 1px solid #333; 
            display: flex; 
            flex-wrap: wrap; /* ì¢ìœ¼ë©´ ì•„ë˜ë¡œ íë¥´ê²Œ */
            gap: 8px; 
            margin-bottom: 25px;
            width: 100%;
            max-width: 500px;
            box-sizing: border-box;
            justify-content: center;
        }

        input {
            background: #2a2a2a; border: 1px solid #444; color: white;
            padding: 12px; border-radius: 8px; outline: none; 
            flex: 1; /* ê°€ìš© ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
            min-width: 150px; /* ìµœì†Œ ë„ˆë¹„ í™•ë³´ */
            font-size: 1rem;
        }

        button.sub-btn {
            padding: 12px 15px; border-radius: 8px; border: none;
            font-weight: bold; cursor: pointer; transition: 0.2s;
            font-size: 0.9rem;
        }

        .btn-add { background: var(--neon-mint); color: black; }
        .btn-save { background: #576574; color: white; }

        /* ë©”ë‰´ ì°½ê³  */
        #menu-storage {
            display: flex; flex-wrap: wrap; gap: 6px; 
            width: 100%;
            max-width: 500px;
            background: rgba(255,255,255,0.03); padding: 12px; 
            border-radius: 12px;
            border: 1px dashed #444;
            box-sizing: border-box;
        }

        .menu-item {
            background: #222; padding: 6px 12px; border-radius: 20px;
            display: flex; align-items: center; gap: 6px; border: 1px solid #333;
            font-size: 0.8rem;
            color: #ccc;
        }

        .del-btn { color: #ff4757; cursor: pointer; font-size: 1.1rem; font-weight: bold; }

        .winner {
            color: var(--neon-mint) !important;
            text-shadow: 0 0 20px var(--neon-mint);
            transform: scale(1.1);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    </style>
</head>
<body>

    <h2>ğŸ± LUNCH SLOT</h2>

    <div class="slot-container">
        <div id="slot-display">READY?</div>
        <button class="btn-spin" onclick="spinSlot()">ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</button>
    </div>

    <div class="controls">
        <input type="text" id="menu-input" placeholder="ë©”ë‰´ ì¶”ê°€..." onkeypress="if(event.keyCode==13) addMenu()">
        <button class="sub-btn btn-add" onclick="addMenu()">ì¶”ê°€</button>
        <button class="sub-btn btn-save" onclick="saveMenus()">ì €ì¥</button>
    </div>

    <div id="menu-storage">ë¡œë“œ ì¤‘...</div>

<script>
    let menus = JSON.parse(localStorage.getItem('lunch-menus')) || 
                ["ê¹€ì¹˜ì°Œê°œ", "ì œìœ¡ë³¶ìŒ", "ëˆê¹ŒìŠ¤", "ì´ˆë°¥", "ìŒ€êµ­ìˆ˜", "í–„ë²„ê±°", "ìŠ¤íŒŒê²Œí‹°", "ëª¨ë°€", "ë‹­ê°ˆë¹„", "ë¼ë©´", "ë–¡ë³¶ì´", "í•´ì¥êµ­", "ê°ìíƒ•", "ì˜¤ì§•ì–´ë³¶ìŒ", "ì­ˆê¾¸ë¯¸","ë§‰êµ­ìˆ˜","ë³´ìŒˆ","ì¡±ë°œ","ì¹˜í‚¨","ê¹€ì¹˜ë³¶ìŒë°¥","ë‚™ì§€ë³¶ìŒ","ëœì¥ì°Œê°œ","ì‚¼ê²¹ì‚´","ê¹€ì¹˜ì°œ","ë“±ê°ˆë¹„","ì›”ë‚¨ìŒˆ","íšŒ","íšŒë®ë°¥","ìƒì„ êµ¬ì´","ë¶ˆê³ ê¸°","ëƒ‰ë©´","ì¹¼êµ­ìˆ˜","ë§Œë‘","í”¼ì","ê¹€ë°¥","ë‹­ê°•ì •","ë§ˆë¼íƒ•","ìˆ˜ì œë¹„","ì§œì¥ë©´","ê³±ì°½","ì‚¼ê³„íƒ•","ì°œë‹­","ìˆœëŒ€êµ­ë°¥","ìƒëŸ¬ë“œ","ì„¤ë íƒ•","ì¹´ë ˆ","ìœ¡ê°œì¥","ìš°ë™","ì–‘ê¼¬ì¹˜"];
    
    let isSpinning = false;
    let audioCtx = null;
    const display = document.getElementById('slot-display');
    const storage = document.getElementById('menu-storage');

    renderMenus();

    function initAudio() {
        if (!audioCtx) {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }
    }

    function addMenu() {
        const input = document.getElementById('menu-input');
        if (input.value.trim()) {
            menus.push(input.value.trim());
            input.value = "";
            renderMenus();
        }
    }

    function saveMenus() {
        localStorage.setItem('lunch-menus', JSON.stringify(menus));
        alert("âœ… ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }

    function renderMenus() {
        if (menus.length === 0) {
            storage.innerText = "ë¹„ì–´ìˆìŒ";
            return;
        }
        storage.innerHTML = menus.map((m, i) => `
            <div class="menu-item">
                <span>${m}</span>
                <span class="del-btn" onclick="deleteMenu(${i})">&times;</span>
            </div>
        `).join('');
    }

    function deleteMenu(index) {
        menus.splice(index, 1);
        renderMenus();
    }

    function playSound(freq, duration) {
        if (!audioCtx || audioCtx.state === 'suspended') return;
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.frequency.value = freq;
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + duration);
    }

    async function spinSlot() {
        if (isSpinning || menus.length === 0) return;
        initAudio();
        if (audioCtx.state === 'suspended') audioCtx.resume();
        
        isSpinning = true;
        display.classList.remove('winner');

        let speed = 50; 
        let rotations = 0;
        let maxRotations = 25; 

        const run = () => {
            const randomMenu = menus[Math.floor(Math.random() * menus.length)];
            display.innerText = randomMenu;
            playSound(300 + (rotations * 15), 0.1);
            
            rotations++;

            if (rotations < maxRotations) {
                if (rotations > 15) speed += 60; 
                setTimeout(run, speed);
            } else {
                display.classList.add('winner');
                playSound(880, 0.4);
                isSpinning = false;
            }
        };
        run();
    }
</script>

</body>
</html>