<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëœë¤ ì¢Œì„ ë°°ì¹˜ë„ - ë„¤ì˜¨ ì—ë””ì…˜</title>
    <style>
        :root {
            --bg-black: #0a0c10;     /* ì•„ì£¼ ê¹Šì€ ë¸”ë™ */
            --neon-mint: #00ffcc;    /* í˜•ê´‘ ë¯¼íŠ¸ */
            --mint-glow: rgba(0, 255, 204, 0.4);
            --panel-bg: #161b22;     /* ì„¤ì •ì°½ ë°°ê²½ */
            --seat-empty: #21262d;   /* ë¹ˆ ì¢Œì„ ë°°ê²½ */
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--bg-black);
            color: #ffffff; margin: 0; padding: 10px;
            display: flex; flex-direction: column; align-items: center;
            height: 100vh; overflow: hidden;
        }

        /* ì œëª©: ë„¤ì˜¨ ë°œê´‘ íš¨ê³¼ */
        h1 {
            font-size: 1.8rem; margin: 10px 0; 
            color: var(--neon-mint);
            text-shadow: 0 0 10px var(--mint-glow), 0 0 20px var(--mint-glow);
            letter-spacing: -1px;
        }

        /* ì„¤ì • ì˜ì—­: ë‹¤í¬ íŒ¨ë„ */
        .controls {
            background: var(--panel-bg); padding: 12px 30px; border-radius: 15px;
            display: flex; gap: 20px; margin-bottom: 20px; align-items: center;
            border: 1px solid #30363d;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .input-group { display: flex; align-items: center; gap: 8px; }
        .input-group label { font-size: 0.9rem; font-weight: bold; color: #8b949e; }
        
        input { 
            padding: 8px; border: 1px solid #484f58; border-radius: 8px; width: 55px; 
            background: var(--bg-black); color: var(--neon-mint); 
            font-size: 1.1rem; font-weight: bold; text-align: center; outline: none;
        }
        input:focus { border-color: var(--neon-mint); box-shadow: 0 0 8px var(--mint-glow); }

        /* ì‹œì‘ ë²„íŠ¼: í¬ê³  ê°•ë ¬í•œ ë„¤ì˜¨ ìŠ¤íƒ€ì¼ */
        #startBtn {
            padding: 12px 40px; background: var(--neon-mint); color: #000;
            border: none; border-radius: 10px; cursor: pointer; 
            font-size: 1.4rem; font-weight: 900;
            transition: 0.2s; 
            box-shadow: 0 0 15px var(--mint-glow);
            margin-left: 10px;
        }
        #startBtn:hover { transform: scale(1.05); filter: brightness(1.1); box-shadow: 0 0 25px var(--neon-mint); }
        #startBtn:active { transform: scale(0.95); }

        /* ì¹ íŒ: ë‹¤í¬í•œ ëŠë‚Œì˜ ì¹ íŒ */
        .blackboard {
            width: 300px; height: 40px; 
            background: #0d1117;
            border: 3px solid #30363d; 
            border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
            color: #8b949e; font-weight: bold; font-size: 0.8rem;
            margin-bottom: 25px;
            letter-spacing: 4px;
        }
        .blackboard::after { content: "SCREEN / FRONT"; }

        /* ì¢Œì„ ê·¸ë¦¬ë“œ: ê°„ê²© ìµœì†Œí™” */
        .seat-grid {
            display: grid; 
            column-gap: 6px; 
            row-gap: 10px;
            justify-content: center;
        }

        /* 2ëª…ë§ˆë‹¤ ë³µë„ ì—¬ë°± */
        .seat-grid > div:nth-child(2n) { margin-right: 30px; }
        .seat-grid > div:nth-child(2n):last-child { margin-right: 0; }

        .seat {
            width: 68px; height: 75px; background: var(--seat-empty);
            border: 1px solid #30363d; border-radius: 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* í™•ì •ëœ ì¢Œì„: ë„¤ì˜¨ ë¯¼íŠ¸ í…Œë‘ë¦¬ì™€ ë°ì€ ìˆ«ì */
        .seat.revealed {
            background: var(--bg-black);
            border: 2px solid var(--neon-mint);
            box-shadow: 0 0 15px var(--mint-glow);
        }

        .seat .label { font-size: 0.6rem; color: #484f58; margin-bottom: 2px; }
        .seat.revealed .label { color: var(--neon-mint); opacity: 0.7; }

        .number { font-size: 1.7rem; font-weight: 900; color: #484f58; }
        .seat.revealed .number { color: #fff; text-shadow: 0 0 10px var(--neon-mint); }

        .shaking { animation: shake 0.1s infinite; }
        @keyframes shake {
            0% { transform: translate(1px, 0); }
            50% { transform: translate(-1px, 0); }
            100% { transform: translate(0, 0); }
        }
    </style>
</head>
<body>

    <h1>âœ¨ ëœë¤ ì¢Œì„ ë°°ì¹˜ë„</h1>

    <div class="controls">
        <div class="input-group">
            <label>ì´ì›</label>
            <input type="number" id="total" value="24">
        </div>
        <div class="input-group">
            <label>ê°€ë¡œì¤„</label>
            <input type="number" id="cols" value="6">
        </div>
        <button id="startBtn" onclick="startShuffle()">ì‹œì‘! ğŸ²</button>
    </div>

    <div class="blackboard"></div>

    <div class="seat-grid" id="seatGrid"></div>

    <script>
        function startShuffle() {
            const total = parseInt(document.getElementById('total').value);
            const cols = parseInt(document.getElementById('cols').value);
            const grid = document.getElementById('seatGrid');
            
            grid.innerHTML = '';
            grid.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

            let nums = Array.from({length: total}, (_, i) => i + 1);
            for (let i = nums.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [nums[i], nums[j]] = [nums[j], nums[i]];
            }

            nums.forEach((num, index) => {
                const seat = document.createElement('div');
                seat.className = 'seat shaking';
                seat.innerHTML = `<span class="label">S-${index + 1}</span><span class="number">?</span>`;
                grid.appendChild(seat);

                setTimeout(() => {
                    revealSeat(seat, num);
                }, 400 + (index * 70)); 
            });
        }

        function revealSeat(seatElement, finalNum) {
            const numDisplay = seatElement.querySelector('.number');
            let count = 0;
            const rolling = setInterval(() => {
                numDisplay.innerText = Math.floor(Math.random() * 30) + 1;
                numDisplay.style.color = 'var(--neon-mint)';
                if (count++ > 7) {
                    clearInterval(rolling);
                    numDisplay.innerText = finalNum;
                    numDisplay.style.color = '#fff';
                    seatElement.classList.remove('shaking');
                    seatElement.classList.add('revealed');
                    seatElement.style.transform = 'scale(1.15)';
                    setTimeout(() => seatElement.style.transform = 'scale(1)', 150);
                }
            }, 45);
        }
    </script>
</body>
</html>