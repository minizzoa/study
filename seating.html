<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ëœë¤ ì¢Œì„ ë°°ì¹˜ë„ - ë„¤ì˜¨ ëª¨ë°”ì¼</title>
    <style>
        :root {
            --bg-black: #0a0c10;
            --neon-mint: #00ffcc;
            --mint-glow: rgba(0, 255, 204, 0.4);
            --panel-bg: #161b22;
            --seat-empty: #21262d;
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--bg-black);
            color: #ffffff;
            margin: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-y: auto; /* ëª¨ë°”ì¼ ìŠ¤í¬ë¡¤ í—ˆìš© */
            box-sizing: border-box;
        }

        h1 {
            font-size: 1.5rem;
            margin: 15px 0;
            color: var(--neon-mint);
            text-shadow: 0 0 10px var(--mint-glow);
            text-align: center;
        }

        /* ì„¤ì • ì˜ì—­: ëª¨ë°”ì¼ ëŒ€ì‘ ë ˆì´ì•„ì›ƒ */
        .controls {
            background: var(--panel-bg);
            padding: 15px;
            border-radius: 15px;
            display: flex;
            flex-wrap: wrap; /* ì¢ìœ¼ë©´ ì•„ë˜ë¡œ ë‚´ë ¤ê°€ê²Œ */
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 400px;
            border: 1px solid #30363d;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-group label {
            font-size: 0.85rem;
            color: #8b949e;
            white-space: nowrap;
        }

        input {
            padding: 10px;
            border: 1px solid #484f58;
            border-radius: 8px;
            width: 50px;
            background: var(--bg-black);
            color: var(--neon-mint);
            font-size: 1rem;
            font-weight: bold;
            text-align: center;
            outline: none;
        }

        #startBtn {
            width: 100%; /* ëª¨ë°”ì¼ì—ì„œ í´ë¦­í•˜ê¸° ì‰½ê²Œ ê°€ë¡œ ê½‰ ì°¨ê²Œ */
            padding: 12px;
            background: var(--neon-mint);
            color: #000;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 900;
            box-shadow: 0 0 15px var(--mint-glow);
            cursor: pointer;
            margin-top: 5px;
        }

        .blackboard {
            width: 80%;
            max-width: 300px;
            height: 35px;
            background: #0d1117;
            border: 2px solid #30363d;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #8b949e;
            font-weight: bold;
            font-size: 0.75rem;
            margin-bottom: 20px;
            letter-spacing: 4px;
        }
        .blackboard::after { content: "SCREEN"; }

        /* ì¢Œì„ ê·¸ë¦¬ë“œ: ëª¨ë°”ì¼ í™”ë©´ í­ì— ë§ì¶° ìœ ë™ì ìœ¼ë¡œ ì¡°ì ˆ */
        .seat-grid {
            display: grid;
            gap: 8px; /* ì¢Œì„ ê°„ê²© */
            width: 100%;
            max-width: 500px;
            padding-bottom: 40px;
        }

        .seat {
            aspect-ratio: 1 / 1.1; /* ëª¨ë°”ì¼ì—ì„œ ì •ë¹„ìœ¨ ìœ ì§€ */
            background: var(--seat-empty);
            border: 1px solid #30363d;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
        }

        .seat.revealed {
            background: var(--bg-black);
            border: 2px solid var(--neon-mint);
            box-shadow: 0 0 10px var(--mint-glow);
        }

        .seat .label {
            font-size: 0.5rem;
            color: #484f58;
            margin-bottom: 2px;
        }

        .number {
            font-size: 1.2rem;
            font-weight: 900;
            color: #484f58;
        }

        .seat.revealed .number {
            color: #fff;
            text-shadow: 0 0 8px var(--neon-mint);
        }

        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        .shaking { animation: shake 0.1s infinite; }
        @keyframes shake {
            0% { transform: translate(1px, 0); }
            50% { transform: translate(-1px, 0); }
            100% { transform: translate(0, 0); }
        }
    </style>
</head>
<body>

    <h1>âœ¨ ëœë¤ ì¢Œì„ ë°°ì¹˜</h1>

    <div class="controls">
        <div class="input-group">
            <label>ì´ì›</label>
            <input type="number" id="total" value="24" inputmode="numeric">
        </div>
        <div class="input-group">
            <label>ê°€ë¡œì¤„</label>
            <input type="number" id="cols" value="6" inputmode="numeric">
        </div>
        <button id="startBtn" onclick="startShuffle()">ì‹œì‘! ğŸ²</button>
    </div>

    <div class="blackboard"></div>

    <div class="seat-grid" id="seatGrid"></div>

    <script>
        function startShuffle() {
            const total = parseInt(document.getElementById('total').value);
            const cols = parseInt(document.getElementById('cols').value);
            const grid = document.getElementById('seatGrid');
            
            if (!total || !cols) return;

            grid.innerHTML = '';
            // ê°€ë¡œì¤„ ìˆ˜ì— ë§ì¶° ê·¸ë¦¬ë“œ ìƒì„±
            grid.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

            let nums = Array.from({length: total}, (_, i) => i + 1);
            for (let i = nums.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [nums[i], nums[j]] = [nums[j], nums[i]];
            }

            nums.forEach((num, index) => {
                const seat = document.createElement('div');
                seat.className = 'seat shaking';
                seat.innerHTML = `<span class="label">S-${index + 1}</span><span class="number">?</span>`;
                grid.appendChild(seat);

                setTimeout(() => {
                    revealSeat(seat, num);
                }, 200 + (index * 50)); // ëª¨ë°”ì¼ì€ ì¡°ê¸ˆ ë” ë¹ ë¥´ê²Œ ì§„í–‰
            });
        }

        function revealSeat(seatElement, finalNum) {
            const numDisplay = seatElement.querySelector('.number');
            let count = 0;
            const rolling = setInterval(() => {
                numDisplay.innerText = Math.floor(Math.random() * 30) + 1;
                numDisplay.style.color = 'var(--neon-mint)';
                if (count++ > 5) {
                    clearInterval(rolling);
                    numDisplay.innerText = finalNum;
                    numDisplay.style.color = '#fff';
                    seatElement.classList.remove('shaking');
                    seatElement.classList.add('revealed');
                    seatElement.style.transform = 'scale(1.1)';
                    setTimeout(() => seatElement.style.transform = 'scale(1)', 100);
                }
            }, 50);
        }
    </script>
</body>
</html>